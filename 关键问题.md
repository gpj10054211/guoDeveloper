相关问题
1、多场景融合建模为啥要选用star，star和MMOE、PLE等多任务建模方式有什么不同？
模型结构：底层都是特征embedding+多层mlp，上层开始不同。具体来说:
1) star上层设计了 common_fcn 和 多个domain相关的specific_fcn，common_fcn用于学习共性，specific_fcn用于学习场景特性；
2) MMOE上层是设计了多个公共的expert网络，多个任务共享这些expert结构（学习任务的共性），通过gate网络学习不同任务在这些expert上的权重（学习任务的差异性），由于没有设计专门的任务独有结构，任务的特性学习可能不够；
3）PLE在MMOE的基础上，针对学习任务差异比较大的多任务场景，每个任务设计了专门的私有网络结构，用于强化学习任务的特性；
输入：
1）star的输入是全场景数据，通过domain_id来区分不同场景的数据，对于common_fcn，所有数据都会进行更新，对于specific_fcn，只有本场景的数据会对其进行更新，从模型和数据两方面学习场景的共性和特性；
2）MMOE和PLE适合同场景的多任务学习，输入是单一场景的数据，没有domainid无法区分不同场景的数据, 无论是公共的还是独有的expert网络都只能从所有数据中进行学习，任务或者场景的特性学习不够；

2、当前粗排已经是学习精排一致性了，再进行蒸馏的合理性是啥？
1）当前粗排通过label为0或者1进行建模学习，我们期望进一步提升粗排的模型能力。通过蒸馏把复杂DNN模型学习到的丰富建模知识传递到简单的DNN粗排，期望简单粗排DNN能够学习到复杂模型的建模能力，提升粗排DNN的建模能力；

3、召回和粗排的区别是什么，怎么理解和定位？
目的不一样，样本构造不一样
召回：从全量候选集里边通过各种策略和兴趣建模方式挖掘用户所有潜在感兴趣的候选，SSB问题最严重，需要从全库item中负采样，像一些其他的召回方法是被严格限制在了召回阶段，是没有办法应用于粗排的，比如CF、标签召回等。
粗排：粗排是在发展到一定的阶段之后，有很多路不同维度召回，而且精排模型又已经达到一个很复杂很精细程度的时候，是夹在召回和精排中间的“折中”的产物。
为了性能考虑，对各路召回候选通过统一的质量分进行排序截断，选择更加优质的候选送给精排，其特点是速度和模型结构介于召回和精排之间，主要功能是为了减轻精排的排序压力；

4、既然最终都要通过粗排/精排进行统一截断，当算力满足粗排/精排可以对全库的item进行打分时，能否用粗排/精排替换多路召回？
不太行。
1）多路召回有一个隐藏的任务：弥补排序的“贪婪”，限制排序模型对眼前的欲望，留点机会后面有潜力的item，不能只给排序模型它喜欢的item，即保证结果的多样性。否则就会让用户陷入信息茧房。
2）实际上为了链路性能考虑，需要卡控召回量不能太大，一定召回量约束下，单个粗排模型无法覆盖所有用户感兴趣的候选。
3）如果仅仅通过粗排/精排模型进行召回，整个推荐结果就会越来越窄，用户的全场景兴趣无法得到充分挖掘。

5、LTR召回和LTR粗排的区别是什么？
1）学习目标均为链路一致性，模型结构一致，无明显区别。
2）线上打分候选：量级差别较大。训练样本构造上有一定区别，召回是从全量候选集里边进行随机采样构造，粗排是从精排和召回候选里边进行采样构造。
3）LTR召回定位：多路兴趣召回的结果补充，引入LTR召回，再通过LTR粗排截断，本质上是新增缓存历史头部精排候选的召回通路给精排。
4）LTR粗排：作为裁判，对多路召回结果进行merge截断，通过模型分对召回候选质量进行评判，可以有各种学习目标。如果召回模型变的更复杂，精度更高，同时只有一到两个召回通道，那么削弱粗排的作用甚至取消粗排并非不可能。

6、如何衡量召回和粗排的SSB问题？
1）定性：假设训练样本集合一样，由于召回线上的打分是全库，量级更大，线上预估和线下训练的数据分布差异更大，所以SSB问题更严重；
2）定量：假设二者和精排的训练样本集合一样，由于精排的模型更复杂，可以通过统计三个模型对点击、曝光、和未曝光三种样本的打分分布差异来进行分析，预期精排模型对三种样本的打分区分度最大，粗排次之，召回区分度最小；

7、如何解决冷启动问题？
定义：新加入系统的用户和物品由于缺乏足够丰富的历史行为数据，常常不能获得准确的推荐内容，或被准确推荐给合适的用户。
1）冷启动包括用户冷启动和物品冷启动；
2）用户冷启动：热门/流行度推荐，相似用户推荐（profile），对比学习，meta-learning学习提升模型的泛化；
3）物品冷启动：模型增加泛化特征，对比学习（丰富训练数据，提升长尾embedding表达），迁移学习（其他领域的数据辅助学习），EE探索机制；

8、如何理解LTR学习会导致后续的模型迭代实验刚开始ab有效果，累积多天后效果越来越弱，直至没有效果了？如何解决这种问题？
LTR本质上是曝光胜出率学习，这种建模方式会把后验效果好的候选作为加入到正样本进行学习，base的LTR召回和LTR粗排都会学习到这种实验流量上效果较好的候选分布，从而导致实验的优势逐步较弱甚至没有。

9、pointwise、pairwise、listwise三种建模方式之间的关系？
pointwise是一种精准值模型预估方式，主要考虑user-item之间的绝对相关性，忽略了同user下多个item之间的相关顺序，对于排序问题来说，主要关注item之间的相对关系，因此pairwise建模更适合排序问题。
pairwise建模因为既考虑了user-item的关系又考虑了item list内部的顺序，更适合排序问题。

10、集合选择技术LTR建模，感觉有种让精排更容易出自己，如何理解？
是这样的，这种方式就是想逼近精排打全库的效果，理想情况等价于整个级联排序系统最后只有一个精排了。但是现在算力rt不够，所以只能委曲求全，用集合选择技术去逼近。

11、LTR建模会不会造成整个系统的数据闭环和技术上的隐形死锁，从而加剧马太效应，在召回和粗排中是如何表现的，如何理解？
1）观察指标：一个是统计头部top广告的展现占比变化，来判断是否加强了马太效应。另一个则是观察新广告的展现占比，来判断对新广告冷启的影响。
2）召回LTR：确实会在一定程度上加剧马太效应，但是因为多路召回的存在，因此对整个广告系统在数据闭环上的影响是可控的。
3）粗排LTR：并没有观察到明显的马太效应，有可能是因为粗排只是一个中间模块，因此对马太效应的影响能力比较有限。在新广告冷启指标上，观察到粗排会降低1天内新广告的展现占比，但是提升7天内新广告的展现占比。这个说明集合选择技术会在前期样本缺乏的情况下打新广告形成打压，但是在新广告冷启后期数据充足的情况下，会迅速起到一个放大作用，帮助新广告更快的收敛。
4）广告系统：由于存在bid和广告预算，广告主通过对bid的调整参与到整个数据循环中，变相的形成了一种动态的探索博弈机制，整个系统环境变化更为频繁，可能更难形成持续的稳态和数据闭环。集合选择技术在召回和粗排提升了bid敏感性，因此甚至有可能加强bid对整个系统数据循环的扰动能力。广告主在拿量被削弱或者新广告冷启阶段，往往通过主动提升bid来获得竞争优势，拿到更多流量。而在广告流量过大的情况下，又往往因为广告预算限制，无法负担更多的流量投放，限制了马太效应的形成。
5）搜索推荐等非广告场景：预期应该有更大的数据闭环风险，因此在探索通道的建设上也更为急迫，需要设计更多指标，更长的观察周期和实验方式，来观察研究LTR对整个系统长期的影响。同时也需要进一步研究如何构建更好的探索机制，探索通道和利用通道如何更好的配合等等。

12、LTR和精准值预估模型二者的优缺点是什么，怎么理解？
1）LTR集合选择技术路线大大提高了整个系统链路的目标对齐能力和效果，但是由于依赖精排阶段的样本进行学习，有可能对整个系统的探索发现性造成影响。
2）精准值预估技术因为有更强的主动性和更少的下游链路依赖，在探索发现性上会有更好的表现，但是受限于自身复杂性，在同等算利力RT水平下和集合选择技术相比，对齐最终系统目标的能力往往比较有限。

13、LTR和精准值预估技术一定程度上对应着系统的利用和探索通道，有什么问题，如何解决？
问题：
1）在以往以精准值预估技术为主的的级联排序系统中，因为前链路各模块在目标和模型能力上和后链路往往存在gap，因此在一定程度上隐式地存在一个探索机制。
2）但是这种探索机制是存在问题的：一方面以限制整个链路在记忆利用（Exploit）上的的能力为代价，牺牲了最终的系统目标和效果，另一方面由于探索（Explore）和利用（Exploit)耦合，也难以专门提升优化探索的效果。
解决方法：
1）结合精准值预估技术和LTR集合选择技术两条路线各自的特点，并行进行优化；
LTR：作为利用通道，专注于短期最终系统目标的对齐和优化。
精准值预估技术：作为探索通道，专注于长期系统生态优化，如新广告冷启和客户侧指标等。
优点：二者结合的方式，一方面可以去极致对齐短期的系统目标，同时可以从长期生态着眼，去心无旁骛进行探索上的优化提升并尽可能减少对系统效果的影响。探索通道的结果也可以快速被利用通道吸收放大，从而促进整个系统的良性循环。

14、粗排一致性指标能否用来评估线上效果？
多期粗排优化中，我们的粗排一致性指标有明显的提升，对应线上效果也有明显的提升，说明二者存在一定的正相关。

15、粗排一致性指标是在模拟精排的能力，精排扩候选是在评估精排的潜力，这两者的关联是怎样的？
精排扩候选空间一定程度上可以代表粗排的效果空间上限
